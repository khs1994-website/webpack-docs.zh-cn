---
title: 命令行接口（CLI）
sort: 1
contributors:
  - anshumanv
  - evenstensberg
  - simon04
  - tbroadley
  - chenxsan
  - rencire
  - madhavarshney
  - EugeneHlushko
  - byzyk
  - wizardofhogwarts
  - EslamHiko
  - smelukov
  - anikethsaha
related:
  - title: 分析构建的统计数据
    url: https://survivejs.com/webpack/optimizing-build/analyzing-build-statistics/
  - title: 检查 webpack 包的三种简单方法
    url: https://medium.com/@joeclever/three-simple-ways-to-inspect-a-webpack-bundle-7f6a8fe7195d#.7d2i06mjx
  - title: 使用 webpack 优化应用程序包
    url: https://hackernoon.com/optimising-your-application-bundle-size-with-webpack-e85b00bab579#.5w5ko08pq
  - title: 分析和优化你的 webpack 包
    url: https://medium.com/@ahmedelgabri/analyzing-optimizing-your-webpack-bundle-8590818af4df#.hce4vdjs9
  - title: 使用 webpack 和 source-map-explorer 分析并减小 client-side 包
    url: https://medium.com/@nimgrg/analysing-and-minimising-the-size-of-client-side-bundle-with-webpack-and-source-map-explorer-41096559beca#.c3t2srr8x
---

为了更合适且方便地使用配置，可以在 `webpack.config.js` 中对 webpack 进行配置。CLI 中传入的任何参数会在配置文件中映射为对应的参数。

如果你还没有安装过 webpack 和 CLI，请先阅读 [安装指南](/guides/installation)。

## Commands

webpack-cli offers a variety of commands to make working with webpack easy. By default webpack ships with

| Command   | Alias | Description                                            |
| --------- | ----- | ------------------------------------------------------ |
| `init`    | c     | Initialize a new webpack configuration                 |
| `migrate` | m     | Migrate a configuration to a new version               |
| `loader`  | l     | Scaffold a loader repository                           |
| `plugin`  | p     | Scaffold a plugin repository                           |
| `info`    | i     | Outputs information about your system and dependencies |
| `serve`   | s     | Run the webpack Dev Server                             |

## Flags

webpack-cli offers a variety of commands to make working with webpack easy. By default webpack ships with the following flags:

Note: These are the flags with webpack v4, starting v5 CLI also supports [core flags](/api/cli/#core-flags)

| Flag / Alias        | Type            | Description                                                                                                    |
| ------------------- | --------------- | -------------------------------------------------------------------------------------------------------------- |
| `--entry`           | string[]        | The entry point(s) of your application e.g. `./src/main.js`                                                    |
| `--config, -c`      | string[]        | Provide path to a webpack configuration file e.g. `./webpack.config.js`                                        |
| `--config-name`     | string[]        | Name of the configuration to use                                                                               |
| `--name`            | string[]        | Name of the configuration. Used when loading multiple configurations                                           |
| `--color`           | boolean         | Enable colors on console                                                                                       |
| `--no-color`        | boolean         | Disables colors on console                                                                                     |
| `--merge, -m`       | boolean         | Merge two or more configurations using webpack-merge e.g. `-c ./webpack.config.js -c ./webpack.test.config.js` |
| `--env`             | string[]        | Environment passed to the configuration when it is a function                                                  |
| `--progress`        | boolean         | Print compilation progress during build                                                                        |
| `--help`            | boolean         | Outputs list of supported flags and commands                                                                   |
| `--output-path, -o` | string          | Output location of the file generated by webpack e.g. `./dist`                                                 |
| `--target, -t`      | string          | Sets the build target                                                                                          |
| `--watch, -w`       | boolean         | Watch for file changes                                                                                         |
| `--hot, -h`         | boolean         | Enables Hot Module Replacement                                                                                 |
| `--no-hot`          | boolean         | Disables Hot Module Replacement                                                                                |
| `--devtool, -d`     | string          | Controls if and how source maps are generated.                                                                 |
| `--prefetch`        | string          | Prefetch this request                                                                                          |
| `--json, -j`        | boolean, string | Prints result as JSON or store it in a file                                                                    |
| `--mode`            | string          | Defines the mode to pass to webpack                                                                            |
| `--version, -v`     | boolean         | Get current version                                                                                            |
| `--stats`           | boolean, string | It instructs webpack on how to treat the stats                                                                 |
| `--no-stats`        | boolean         | Disables stats output                                                                                          |
| `--analyze`         | boolean         | It invokes `webpack-bundle-analyzer` plugin to get bundle information                                          |

### Negated Flags

| Flag       | Description                                                   |
| ---------- | ------------------------------------------------------------- |
| --no-color | Disabled any color on the console                             |
| --no-hot   | Disabled hot reloading if you have it enabled via your config |
| --no-stats | Disables any compilation stats emitted by webpack             |

### Core Flags

Starting CLI v4 and webpack v5, CLI imports the entire configuration schema from webpack core to allow tuning almost every configuration option from the command line.

__Here's the list of all the core flags supported by webpack v5 with CLI v4 - [link](https://github.com/webpack/webpack-cli/tree/next/packages/webpack-cli#webpack-5)__

For example if you want to enable performance hints in your project you'd use [this](https://webpack.js.org/configuration/performance/#performancehints) option in configuration, with core flags you can do -

```bash
webpack --performance-hints warning`
```

## 用法 {#usage}

### 使用配置文件 {#with-configuration-file}

```bash
webpack [--config webpack.config.js]
```

配置文件中的相关选项，请参阅[配置](/configuration)。

### 不使用配置文件 {#without-configuration-file}

```sh
webpack <entry> [<entry>] -o <output-path>
```

__example__

```sh
webpack --entry ./first.js --entry ./second.js --output-path /build
```

__`<entry>`__

构建项目时入口可以配置一个文件名或一组被命名过的文件名。你可以传递多个入口（每个入口在启动时加载）。如果传递一个形式为 `<name> = <request>` 的键值对，则可以创建一个额外的入口起点。它将被映射到配置选项（configuration option）的 `entry` 属性中。

__`<output>`__

用于存储构建后的文件路径。它将映射到配置选项 `output.path`。

__示例__

假设你的项目结构像下面这样：

```bash
.
├── dist
├── index.html
└── src
    ├── index.js
    ├── index2.js
    └── others.js
```

```bash
webpack ./src/index.js -o dist
```

这将对源码进行打包，其入口为 `index.js`，且 bundle 文件的输出路径为 `dist`。

```bash
asset main.js 142 bytes [compared for emit] [minimized] (name: main)
./src/index.js 30 bytes [built] [code generated]
./src/others.js 1 bytes [built] [code generated]
webpack 5.1.0 compiled successfully in 187 ms
```

```bash
webpack ./src/index.js ./src/others2.js -o dist/
```

以多个入口的方式打包文件

```bash
asset main.js 142 bytes [compared for emit] [minimized] (name: main)
./src/index.js 30 bytes [built] [code generated]
./src/others2.js 1 bytes [built] [code generated]
./src/others.js 1 bytes [built] [code generated]
webpack 5.1.0 compiled successfully in 198 ms
```

## 默认配置 {#default-configurations}

CLI will look for some default configurations in the path of your project, here are the config files picked up by CLI.

If no `mode` is supplied via flags or config then this is the lookup order in increasing order

> example - config file lookup will be in order of .webpack/webpack.config.development.js > webpack.config.development.js > webpack.config.js

```md
'webpack.config',
'webpack.config.dev',
'webpack.config.development',
'webpack.config.prod',
'webpack.config.production',
'.webpack/webpack.config',
'.webpack/webpack.config.none',
'.webpack/webpack.config.dev',
'.webpack/webpack.config.development',
'.webpack/webpack.config.prod',
'.webpack/webpack.config.production',
'.webpack/webpackfile',
```

If `mode` is supplied, say `production` then config looking order will be -

`.webpack/webpack.config.production.* > .webpack/webpack.config.prod.* > webpack.config.production.* > webpack.config.prod.* > webpack.config.*`

## 通用配置 {#common-options}

W> 注意，命令行接口（Command Line Interface）参数的优先级，高于配置文件参数。例如，如果将 [`--mode="production"`](/configuration/mode/#usage) 传入 webpack CLI，而配置文件使用的是 `development`，最终会使用 `production`。

__列出命令行所有可用的命令和 flag__

```bash
webpack --help
```

__Show help for a single command or flag__

```bash
webpack --help <command>
webpack --help --<flag>
```

__使用配置文件进行构建__

指定其它的[配置](/configuration)文件。配置文件默认为 `webpack.config.js`，如果你想使用其它配置文件，可以加入这个参数。

```bash
webpack --config example.config.js
```

__以 JSON 格式输出 webpack 的运行结果__

```bash
webpack --json
```

__If you want to store stats as json instead of printing it, you can use -__

```bash
webpack --json stats.json
```

In every other case, webpack prints out a set of stats showing bundle, chunk and timing details. Using this option, the output can be a JSON object. This response is accepted by webpack's [analyse tool](https://webpack.github.io/analyse/), or chrisbateman's [webpack-visualizer](https://chrisbateman.github.io/webpack-visualizer/), or th0r's [webpack-bundle-analyzer](https://github.com/webpack-contrib/webpack-bundle-analyzer). The analyse tool will take in the JSON and provide all the details of the build in graphical form.

## Environment Options {#environment-options}

When the webpack configuration [exports a function](/configuration/configuration-types/#exporting-a-function), an "environment" may be passed to it.

```bash
webpack --env production    # sets env.production == true
```

The `--env` argument accepts multiple values:

| Invocation                     | Resulting environment       |
| ------------------------------ | --------------------------- |
| `webpack --env prod`           | `{ prod: true }`            |
| `webpack --env prod --env min` | `{ prod: true, min: true }` |

T> See the [environment variables](/guides/environment-variables/) guide for more information on its usage.

## Configuration Options {#configuration-options}

| Parameter       | Explanation                                                    | Input type | Default                                             |
| --------------- | -------------------------------------------------------------- | ---------- | --------------------------------------------------- |
| `--config`      | Path to the configuration file                                 | string     | [Default Configs](/api/cli/#default-configurations) |
| `--config-name` | Name of the configuration to use                               | string     |
| `--env`         | Environment passed to the configuration, when it is a function |            |
| `--mode`        | Mode to use                                                    | string     | `'production'`                                      |

## Analyzing Bundle {#analyzing-bundle}

You can also use `webpack-bundle-analyzer` to analyze your output bundles emitted by webpack. You can use `--analyze` flag to invoke it via CLI.

```sh
webpack --analyze
```

W> Make sure you have `webpack-bundle-analyzer` installed in your project else CLI will prompt you to install it.

## 将 CLI 参数传递给 Node.js {#pass-cli-arguments-to-nodejs}

将参数直接传递给 Node.js 进程，你可以使用 `NODE_OPTIONS` 选项。

例如，将 Node.js 进程的内存限制增加到 4 GB。

```bash
NODE_OPTIONS="--max-old-space-size=4096" webpack
```

此外，你也可以将多个选项传递给 Node.js 进程。

```bash
NODE_OPTIONS="--max-old-space-size=4096 -r /path/to/preload/file.js" webpack
```
